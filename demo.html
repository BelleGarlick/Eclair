<!Doctype html>
<html>
<head>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/tomorrow.min.css"/>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>

    <style>
        .hljs-keyword {
            color: #8026b9;
        }
        .hljs-string {
            color: #5c9600;
        }
        
        .customButton {
            background: red;
        }
    </style>
    <script src="eclair.js"></script>
</head>
<body>
    <div id='test'></div>
    <script>
        let synHigh = eclair.SyntaxHighlighter()
                .value('eclair.Button("Test")\n    .onClick(() => {\n        alert("Hello World!")\n    })\n    .write()')
        
        let frame = eclair.IFrame()
                .width("100%")
                .height("100%")
        
        eclair.HStack([
            eclair.VStack([
                eclair
                    .Button("Run")
                    .addStyle("customButton")
                    .onClick(() => {
                        let hljsImport = '<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/tomorrow.min.css"/><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></scr'+'ipt>';
                        let eclairImport = '<script src="eclair.js"></scrip'+'t>'
                        let code = hljsImport + eclairImport + '<script>'+synHigh.value()+'</sc'+'ript>'
                        frame.source(code)
                    }),
                synHigh
            ])
                //.align("left"),
            frame
        ])
            .css("border: 1px solid black", " td")
            .to('test')
    </script>
</body>
</html>