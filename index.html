<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/tomorrow.min.css"/>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
<script src="eclair.js"></script>
<script src="test_examples.js"></script>
<script>    
let Toggle = eclair.Toggle, Text = eclair.Text, CheckBox = eclair.CheckBox, 
    RadioButtons = eclair.RadioButtons, TextBox = eclair.TextBox, State = eclair.State, 
    AlertState = eclair.AlertState, TextStyle = eclair.TextStyle, VStack = eclair.VStack,
    HStack = eclair.HStack, View = eclair.View, TabView = eclair.TabView, Button = eclair.Button;


let textHeadingStyle = TextStyle().heading2()
let backgroundColor = eclair.Color().hex("#f6f6f6")



let selectedRadio = Ø()
let selectedRadioIndex = Ø()



let viewSourcePage = Ø(0)
let codeExampleTitle = Ø("Progress Bar")
let htmlCode = Ø(examples["toggle_switch"])
let iframeHTMLCode = State("")


VStack([   
    HStack([
        Text("Eclair Playground")  
            .type(textHeadingStyle)
            .fontColor("white")
    ])
        .width("100%")
        .background(eclair.theme.accent)
        .padding(8),
    
    
    HStack([
        {"name": "Toggle Switch", "id": "toggle_switch"},
        {"name": "Progress Bar", "id": "progress_bar"},
        {"name": "Alert Box", "id": "alert_box"},
        {"name": "Check Box", "id": "check_box"},
    ], item => {
        return eclair.Button(item.name)
            .onClick(_ => {
                codeExampleTitle.value(item.name)
                htmlCode.value(examples[item.id])
            })
    }),
    
    HStack([
        Text(codeExampleTitle)
            .type("heading3"),
        HStack([
            Button("Source").onClick(_ => {viewSourcePage.value(0)}),
            Button("Result").onClick(_ => {
                iframeHTMLCode.value('<script src="eclair.js"></scrip'+'t><script>'+htmlCode.value()+'</sc'+'ript>')
                viewSourcePage.value(1)
            })
        ])
    ]),
    
    eclair.TabView(viewSourcePage, [
        eclair.View([
            eclair.SyntaxHighlighter(htmlCode)
        ]),
        eclair.View([
            eclair.IFrame()
                .height("100%")
                .width("100%")
                .source(iframeHTMLCode)
        ])
    ]),


    eclair.VStack([
        VStack([     
            
            eclair.TextBox(selectedRadio),
            eclair.TextBox(selectedRadioIndex),
            
            eclair.HorizontalLine(),
            RadioButtons(["tests", "test", "testing"])
                .radioStyle(style => {
                    style.borderColor("green")
                    style.borderRadius("4px")
                    style.transform("rotate(45deg)")
                    style.transition("all 0.2s ease")
                })
                .selectedRadioStyle(style => {
                    style.background("green")
                    style.transform("rotate(225deg)")
                })
                .selectedIndex(selectedRadioIndex)
                .value(selectedRadio)
                .width("100%"),
                //.spacing(30)
        ])
//            .spacing(25)
            .padding(10)
    ])
        .alignment("stretch")
        .width("600px")
])
    .position("absolute")
    .top("0px")
    .left("0px")
    .width("100%")
    .alignment("center")
    .write()
</script>